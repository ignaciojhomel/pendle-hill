(()=>{"use strict";var e,t={363:()=>{const e=window.wp.blocks,t=window.React,r=window.wp.i18n,a=window.wp.blockEditor,l=window.wp.components,n=window.wp.element,c=JSON.parse('{"UU":"create-block/related-products"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c}){const{backgroundImage:o,heading:s,text:i,productLists:d,limit:p}=e,[u,m]=(0,n.useState)(Array.isArray(d)?d:[]),b=btoa("ck_6b8c7c3d15b4ac7ce987f49417e2498782823e7d:cs_8c18bcd04bf0e34fb47bae039af456f82e6a4c00");return(0,n.useEffect)((()=>{(async()=>{try{const e="/wp-json/wc/v3/products?per_page=100",t=await fetch(e,{headers:{Authorization:`Basic ${b}`}}),r=await t.json();Array.isArray(r)?(m(r),c({productLists:r})):(console.error("API did not return an array:",r),m([]),c({productLists:[]}))}catch(e){console.error("Error fetching products:",e),m([]),c({productLists:[]})}})()}),[]),(0,t.createElement)("div",{...(0,a.useBlockProps)({style:{backgroundImage:o?`url(${o.url})`:"none"},className:"related-products"})},(0,t.createElement)("div",{className:"related-products-block container"},(0,t.createElement)("div",{className:"related-products-block__heading"},(0,t.createElement)("h1",null,s)),(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,r.__)("Banner Settings","related-products")},(0,t.createElement)("img",{src:o.url}),(0,t.createElement)(a.MediaUpload,{onSelect:e=>c({backgroundImage:{url:e.url,id:e.id,alt:e.alt}}),allowedTypes:["image"],render:({open:e})=>(0,t.createElement)(l.Button,{onClick:e,variant:"primary"},(0,r.__)("Upload Background Image","shop-banner"))}),(0,t.createElement)(l.TextControl,{label:(0,r.__)("Limit","related-products"),value:p,onChange:e=>c({limit:e})}),(0,t.createElement)(l.TextControl,{label:(0,r.__)("Heading","related-products"),value:s,onChange:e=>c({heading:e})}),(0,t.createElement)(l.TextareaControl,{label:(0,r.__)("Text","related-products"),value:i,onChange:e=>c({text:e})}))),(0,t.createElement)("div",{className:"related-products-block__text"},(0,t.createElement)("p",null,i)),(0,t.createElement)("div",{className:"related-products-block__content"},Array.isArray(d)?d.slice(0,p).map((e=>(0,t.createElement)("div",{className:"item"},(0,t.createElement)("a",{href:e.permalink},e.images.length>0&&(0,t.createElement)("img",{src:e.images[0].src,alt:e.name})),(0,t.createElement)("div",{className:"product-details"},(0,t.createElement)("div",{className:"product-name"},e.name),(0,t.createElement)("div",{className:"product-price"},(0,t.createElement)("p",null,e.price))),(0,t.createElement)("div",{className:"action"},(0,t.createElement)("button",null,"Add to cart"))))):(0,t.createElement)("p",null,"No products available"))))}})}},r={};function a(e){var l=r[e];if(void 0!==l)return l.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,e=[],a.O=(t,r,l,n)=>{if(!r){var c=1/0;for(d=0;d<e.length;d++){for(var[r,l,n]=e[d],o=!0,s=0;s<r.length;s++)(!1&n||c>=n)&&Object.keys(a.O).every((e=>a.O[e](r[s])))?r.splice(s--,1):(o=!1,n<c&&(c=n));if(o){e.splice(d--,1);var i=l();void 0!==i&&(t=i)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,l,n]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={639:0,295:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var l,n,[c,o,s]=r,i=0;if(c.some((t=>0!==e[t]))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(s)var d=s(a)}for(t&&t(r);i<c.length;i++)n=c[i],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},r=globalThis.webpackChunkpendle_hill=globalThis.webpackChunkpendle_hill||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var l=a.O(void 0,[295],(()=>a(363)));l=a.O(l)})();